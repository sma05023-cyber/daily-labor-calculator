<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¼ìš©ê·¼ë¡œ ê³„ì‚°ê¸°</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #4a6fa5;
            --secondary: #6b8cae;
            --accent: #88a0bc;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --white: #ffffff;
            --gray: #95a5a6;
            --success: #5a9e6f;
            --border: #d4dce3;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
        }

        /* í—¤ë” */
        header {
            background: var(--white);
            padding: 30px 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            border-bottom: 3px solid var(--primary);
        }

        h1 {
            font-size: 2.2em;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 1em;
            color: var(--gray);
            font-weight: 400;
        }

        /* ì»¨í…Œì´ë„ˆ */
        .container {
            max-width: 1200px;
            margin: 40px auto;
            padding: 0 20px;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .full-width {
            grid-column: 1 / -1;
        }

        /* ê³„ì‚°ê¸° ì¹´ë“œ */
        .calc-card {
            background: var(--white);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .calc-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(74, 111, 165, 0.15);
        }

        .calc-title {
            font-size: 1.5em;
            margin-bottom: 25px;
            color: var(--primary);
            font-weight: 700;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--light);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .calc-title::before {
            content: 'ğŸ“Š';
            font-size: 1.2em;
        }

        /* ì…ë ¥ í•„ë“œ */
        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--dark);
            font-weight: 500;
            font-size: 0.95em;
        }

        .input-group .helper-text {
            font-size: 0.85em;
            color: var(--gray);
            margin-top: 5px;
        }

        input[type="number"],
        input[type="date"],
        input[type="time"],
        select {
            width: 100%;
            padding: 12px 15px;
            background: var(--light);
            border: 2px solid var(--border);
            border-radius: 8px;
            color: var(--dark);
            font-size: 1em;
            font-family: 'Noto Sans KR', sans-serif;
            transition: all 0.3s;
        }

        input[type="number"]:focus,
        input[type="date"]:focus,
        input[type="time"]:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
            background: var(--white);
            box-shadow: 0 0 0 3px rgba(74, 111, 165, 0.1);
        }

        /* ë²„íŠ¼ */
        .calc-btn {
            width: 100%;
            padding: 14px;
            background: var(--primary);
            border: none;
            border-radius: 8px;
            color: var(--white);
            font-size: 1.05em;
            font-weight: 600;
            font-family: 'Noto Sans KR', sans-serif;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .calc-btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(74, 111, 165, 0.3);
        }

        .calc-btn:active {
            transform: translateY(0);
        }

        /* ê²°ê³¼ í‘œì‹œ */
        .result-box {
            margin-top: 25px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            border-left: 4px solid var(--primary);
        }

        .result-title {
            font-size: 0.9em;
            color: var(--gray);
            margin-bottom: 10px;
            font-weight: 500;
        }

        .result-value {
            font-size: 1.8em;
            color: var(--primary);
            font-weight: 700;
            margin-bottom: 15px;
        }

        .result-detail {
            font-size: 0.95em;
            color: var(--dark);
            line-height: 1.8;
            padding: 12px;
            background: var(--white);
            border-radius: 6px;
            margin-top: 10px;
        }

        .result-detail-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid var(--light);
        }

        .result-detail-item:last-child {
            border-bottom: none;
            font-weight: 600;
            color: var(--primary);
            font-size: 1.1em;
            padding-top: 12px;
        }

        .result-detail-label {
            color: var(--gray);
        }

        .result-detail-value {
            font-weight: 600;
            color: var(--dark);
        }

        .empty-result {
            text-align: center;
            color: var(--gray);
            padding: 30px;
            font-size: 0.95em;
        }

        /* ì •ë³´ ë°•ìŠ¤ */
        .info-box {
            background: #e8f4f8;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 3px solid var(--accent);
        }

        .info-box .info-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 8px;
            font-size: 0.95em;
        }

        .info-box ul {
            list-style: none;
            padding-left: 0;
        }

        .info-box li {
            padding: 5px 0;
            color: var(--dark);
            font-size: 0.9em;
        }

        .info-box li::before {
            content: 'â€¢';
            color: var(--accent);
            font-weight: bold;
            margin-right: 8px;
        }

        /* ì‹œê°„ ì…ë ¥ ê·¸ë¦¬ë“œ */
        .time-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .calc-title {
                font-size: 1.3em;
            }

            .time-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ë¡œë”© */
        .calculating {
            opacity: 0.6;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <header>
        <h1>ì¼ìš©ê·¼ë¡œ ê³„ì‚°ê¸°</h1>
        <p class="subtitle">ì†Œë“ì„¸, ë³´í—˜ë£Œ, ê·¼ë¬´ì‹œê°„ ê³„ì‚°</p>
    </header>

    <div class="container">
        <div class="grid">
            <!-- 1. ì¼ìš©ê·¼ë¡œ ê¸‰ì—¬ ê³„ì‚°ê¸° (í†µí•©) -->
            <div class="calc-card full-width">
                <h2 class="calc-title">ì¼ìš©ê·¼ë¡œ ê¸‰ì—¬ ê³„ì‚°ê¸°</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
                    <div class="input-group">
                        <label>ì¼ë‹¹ (ì›)</label>
                        <input type="number" id="dailyWage" placeholder="ì˜ˆ: 150000" value="">
                        <p class="helper-text">í•˜ë£¨ ê¸°ì¤€ ê¸‰ì—¬</p>
                    </div>
                    <div class="input-group">
                        <label>ë³´ìˆ˜ì§€ê¸‰ ê¸°ì´ˆì¼ìˆ˜ (ì¼)</label>
                        <input type="number" id="workDays" placeholder="ì˜ˆ: 20" value="" min="1">
                        <p class="helper-text">ê·¼ë¬´í•œ ì´ ì¼ìˆ˜</p>
                    </div>
                    <div class="input-group">
                        <label>ì—…ì¢… (ì‚°ì¬ë³´í—˜ìœ¨)</label>
                        <select id="industryType">
                            <option value="0.007">ì¼ë°˜ì—…ì¢… (0.7%)</option>
                            <option value="0.014">ê±´ì„¤ì—… (1.4%)</option>
                            <option value="0.021">ìœ„í—˜ì—…ì¢… (2.1%)</option>
                        </select>
                        <p class="helper-text">ì‚¬ì—…ì£¼ ë¶€ë‹´</p>
                    </div>
                </div>
                <button class="calc-btn" onclick="calculateAll()">ê³„ì‚°í•˜ê¸°</button>
                
                <div id="allResult" class="result-box" style="display: none;">
                    <div class="result-title">ìµœì¢… ì‹¤ìˆ˜ë ¹ì•¡</div>
                    <div class="result-value" id="finalNetPay">-</div>
                    <div class="result-detail" id="allDetail"></div>
                </div>

                <div class="info-box">
                    <div class="info-title">ğŸ’¡ ê³µì œ í•­ëª© ì•ˆë‚´ (2024ë…„ ê¸°ì¤€)</div>
                    <ul>
                        <li><strong>ì†Œë“ì„¸:</strong> ì¼ 15ë§Œì› ì´ˆê³¼ë¶„ì— ëŒ€í•´ 6% ë¶€ê³¼</li>
                        <li><strong>ì§€ë°©ì†Œë“ì„¸:</strong> ì†Œë“ì„¸ì˜ 10%</li>
                        <li><strong>ê³ ìš©ë³´í—˜:</strong> ì¼ë‹¹ì˜ 0.9% (ê·¼ë¡œì ë¶€ë‹´)</li>
                        <li><strong>ì‚°ì¬ë³´í—˜:</strong> ì‚¬ì—…ì£¼ ì „ì•¡ ë¶€ë‹´ (ê·¼ë¡œì ê³µì œ ì—†ìŒ)</li>
                        <li><strong>ê±´ê°•ë³´í—˜/êµ­ë¯¼ì—°ê¸ˆ:</strong> ì¼ìš©ì§ì€ ì œì™¸</li>
                    </ul>
                </div>
            </div>

            <!-- 2. ê·¼ë¬´ì‹œê°„ ê³„ì‚°ê¸° (ê¸°ë³¸) -->
            <div class="calc-card">
                <h2 class="calc-title">ê·¼ë¬´ì‹œê°„ ê³„ì‚°ê¸° (ê¸°ë³¸)</h2>
                <div style="display: grid; gap: 15px;">
                    <div class="input-group">
                        <label>ë‚ ì§œ</label>
                        <input type="date" id="workDate1" value="">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="input-group">
                            <label>ì‹œì‘ ì‹œê°„</label>
                            <input type="time" id="startTime1" value="">
                        </div>
                        <div class="input-group">
                            <label>ì¢…ë£Œ ì‹œê°„</label>
                            <input type="time" id="endTime1" value="">
                        </div>
                    </div>
                    <div class="input-group">
                        <label>íœ´ê²Œ ì‹œê°„ (ë¶„)</label>
                        <input type="number" id="breakTime1" placeholder="ì˜ˆ: 60" value="60">
                    </div>
                </div>
                <button class="calc-btn" onclick="calculateBasicWorkHours()">ê³„ì‚°í•˜ê¸°</button>
                
                <div id="timeResult1" class="result-box" style="display: none;">
                    <div class="result-title">ì´ ê·¼ë¬´ì‹œê°„</div>
                    <div class="result-value" id="totalHours1">-</div>
                    <div class="result-detail" id="timeDetail1"></div>
                </div>
            </div>

            <!-- 3. ê¸‰ì—¬ ê³„ì‚°ê¸° (ì§ì¢…ë³„) -->
            <div class="calc-card">
                <h2 class="calc-title">ê¸‰ì—¬ ê³„ì‚°ê¸° (ì§ì¢…ë³„)</h2>
                <div style="display: grid; gap: 15px;">
                    <div class="input-group">
                        <label>ì§ì¢…</label>
                        <select id="jobType">
                            <option value="7.5">í•™êµ ê·¼ë¬´ì (7ì‹œê°„ 30ë¶„)</option>
                            <option value="8">8ì‹œê°„ ê·¼ë¬´ì</option>
                            <option value="5">5ì‹œê°„ ê·¼ë¬´ì</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>í†µìƒì‹œê¸‰ (ì›)</label>
                        <input type="number" id="hourlyRate" placeholder="ì˜ˆ: 10000" value="">
                    </div>
                    <div class="input-group">
                        <label>ë‚ ì§œ</label>
                        <input type="date" id="workDate2" value="">
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="input-group">
                            <label>ì‹œì‘ ì‹œê°„</label>
                            <input type="time" id="startTime2" value="">
                        </div>
                        <div class="input-group">
                            <label>ì¢…ë£Œ ì‹œê°„</label>
                            <input type="time" id="endTime2" value="">
                        </div>
                    </div>
                    <div class="input-group">
                        <label>íœ´ê²Œ ì‹œê°„ (ë¶„)</label>
                        <input type="number" id="breakTime2" placeholder="ì˜ˆ: 60" value="60">
                    </div>
                </div>
                <button class="calc-btn" onclick="calculateSalaryByJob()">ê³„ì‚°í•˜ê¸°</button>
                
                <div id="salaryResult" class="result-box" style="display: none;">
                    <div class="result-title">ì´ ê¸‰ì—¬</div>
                    <div class="result-value" id="totalSalary">-</div>
                    <div class="result-detail" id="salaryDetail"></div>
                </div>

                <div class="info-box">
                    <div class="info-title">ğŸ’¡ í•™êµ ê·¼ë¬´ì (7.5ì‹œê°„) íŠ¹ë³„ ê·œì •</div>
                    <ul>
                        <li>16:30 ì´í›„ 30ë¶„: ë¬´ê¸‰</li>
                        <li>17:00 ì´í›„ 30ë¶„: ìœ ê¸‰ 100%</li>
                        <li>17:30 ì´í›„: 150% ê°€ì‚° (22ì‹œ ì´ì „)</li>
                        <li>22:00 ì´í›„: ì•¼ê°„ê·¼ë¡œ ì¶”ê°€ ê°€ì‚°</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="info-box" style="margin-top: 30px;">
            <div class="info-title">ğŸ’¡ ê·¼ë¬´ì‹œê°„ ê¸°ì¤€</div>
            <ul>
                <li>ë²•ì • ê·¼ë¡œì‹œê°„: 1ì¼ 8ì‹œê°„, ì£¼ 40ì‹œê°„</li>
                <li>ì—°ì¥ê·¼ë¡œ: ê¸°ì¤€ ì‹œê°„ ì´ˆê³¼ë¶„ (50% ê°€ì‚°)</li>
                <li>ì•¼ê°„ê·¼ë¡œ: 22ì‹œ~06ì‹œ (50% ê°€ì‚°)</li>
                <li>íœ´ì¼ê·¼ë¡œ: 8ì‹œê°„ê¹Œì§€ 50%, ì´ˆê³¼ 100% ê°€ì‚°</li>
            </ul>
        </div>

    <script>
        // ì˜¤ëŠ˜ ë‚ ì§œë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì„¤ì •
        document.getElementById('workDate1').valueAsDate = new Date();
        document.getElementById('workDate2').valueAsDate = new Date();

        // í†µí•© ê³„ì‚° í•¨ìˆ˜
        function calculateAll() {
            const dailyWage = parseFloat(document.getElementById('dailyWage').value);
            const workDays = parseFloat(document.getElementById('workDays').value);
            const industryRate = parseFloat(document.getElementById('industryType').value);
            const resultBox = document.getElementById('allResult');
            const netPayEl = document.getElementById('finalNetPay');
            const detailEl = document.getElementById('allDetail');

            if (!dailyWage || dailyWage <= 0) {
                alert('ì¼ë‹¹ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }

            if (!workDays || workDays <= 0) {
                alert('ë³´ìˆ˜ì§€ê¸‰ ê¸°ì´ˆì¼ìˆ˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }

            // ì´ë³´ìˆ˜ì•¡ = ì¼ë‹¹ Ã— ë³´ìˆ˜ì§€ê¸‰ ê¸°ì´ˆì¼ìˆ˜
            const totalWage = dailyWage * workDays;

            // 1. ì†Œë“ì„¸ ê³„ì‚°
            const taxFreeLimit = 150000;
            let taxableAmount = 0;
            let incomeTax = 0;
            let localTax = 0;

            if (dailyWage > taxFreeLimit) {
                // ì¼ë‹¹ ê¸°ì¤€ìœ¼ë¡œ ê³¼ì„¸ ëŒ€ìƒì•¡ ê³„ì‚° í›„ ì¼ìˆ˜ ê³±í•˜ê¸°
                const dailyTaxableAmount = dailyWage - taxFreeLimit;
                taxableAmount = dailyTaxableAmount * workDays;
                incomeTax = Math.floor(taxableAmount * 0.06); // 6%
                localTax = Math.floor(incomeTax * 0.1); // ì†Œë“ì„¸ì˜ 10%
            }

            // 2. ê³ ìš©ë³´í—˜ ê³„ì‚° (ì´ë³´ìˆ˜ì•¡ ê¸°ì¤€ 0.9%)
            const employmentInsurance = Math.floor(totalWage * 0.009);

            // 3. ì´ ê³µì œì•¡ ë° ì‹¤ìˆ˜ë ¹ì•¡
            const totalDeduction = incomeTax + localTax + employmentInsurance;
            const netPay = totalWage - totalDeduction;

            // ê²°ê³¼ í‘œì‹œ
            netPayEl.textContent = netPay.toLocaleString() + 'ì›';
            detailEl.innerHTML = `
                <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 2px solid var(--light);">
                    <div style="font-size: 0.9em; color: var(--gray); margin-bottom: 10px;">ğŸ“‹ ê¸‰ì—¬ ë‚´ì—­</div>
                    <div class="result-detail-item">
                        <span class="result-detail-label">ì¼ë‹¹</span>
                        <span class="result-detail-value">${dailyWage.toLocaleString()}ì›</span>
                    </div>
                    <div class="result-detail-item">
                        <span class="result-detail-label">ë³´ìˆ˜ì§€ê¸‰ ê¸°ì´ˆì¼ìˆ˜</span>
                        <span class="result-detail-value">${workDays}ì¼</span>
                    </div>
                    <div class="result-detail-item">
                        <span class="result-detail-label" style="font-weight: 700; color: var(--primary);">ì´ë³´ìˆ˜ì•¡ (ì¼ë‹¹ Ã— ì¼ìˆ˜)</span>
                        <span class="result-detail-value" style="font-weight: 700; color: var(--primary);">${totalWage.toLocaleString()}ì›</span>
                    </div>
                </div>

                <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 2px solid var(--light);">
                    <div style="font-size: 0.9em; color: var(--gray); margin-bottom: 10px;">ğŸ’° ì†Œë“ì„¸</div>
                    <div class="result-detail-item">
                        <span class="result-detail-label">ì¼ë‹¹ ë¹„ê³¼ì„¸ í•œë„</span>
                        <span class="result-detail-value">${taxFreeLimit.toLocaleString()}ì›</span>
                    </div>
                    <div class="result-detail-item">
                        <span class="result-detail-label">ì¼ë‹¹ ê³¼ì„¸ ëŒ€ìƒì•¡</span>
                        <span class="result-detail-value">${Math.max(0, dailyWage - taxFreeLimit).toLocaleString()}ì›</span>
                    </div>
                    <div class="result-detail-item">
                        <span class="result-detail-label">ì´ ê³¼ì„¸ ëŒ€ìƒì•¡ (Ã— ${workDays}ì¼)</span>
                        <span class="result-detail-value">${taxableAmount.toLocaleString()}ì›</span>
                    </div>
                    <div class="result-detail-item">
                        <span class="result-detail-label">ì†Œë“ì„¸ (6%)</span>
                        <span class="result-detail-value" style="color: #e74c3c;">-${incomeTax.toLocaleString()}ì›</span>
                    </div>
                    <div class="result-detail-item">
                        <span class="result-detail-label">ì§€ë°©ì†Œë“ì„¸ (10%)</span>
                        <span class="result-detail-value" style="color: #e74c3c;">-${localTax.toLocaleString()}ì›</span>
                    </div>
                </div>

                <div style="margin-bottom: 15px; padding-bottom: 15px; border-bottom: 2px solid var(--light);">
                    <div style="font-size: 0.9em; color: var(--gray); margin-bottom: 10px;">ğŸ¥ 4ëŒ€ë³´í—˜</div>
                    <div class="result-detail-item">
                        <span class="result-detail-label">ê³ ìš©ë³´í—˜ (ì´ë³´ìˆ˜ì•¡ì˜ 0.9%)</span>
                        <span class="result-detail-value" style="color: #e74c3c;">-${employmentInsurance.toLocaleString()}ì›</span>
                    </div>
                    <div class="result-detail-item">
                        <span class="result-detail-label">ì‚°ì¬ë³´í—˜ (ì‚¬ì—…ì£¼ ë¶€ë‹´)</span>
                        <span class="result-detail-value" style="color: var(--success);">ê³µì œ ì—†ìŒ</span>
                    </div>
                    <div class="result-detail-item">
                        <span class="result-detail-label">ê±´ê°•ë³´í—˜/êµ­ë¯¼ì—°ê¸ˆ</span>
                        <span class="result-detail-value" style="color: var(--success);">ì¼ìš©ì§ ì œì™¸</span>
                    </div>
                </div>

                <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 15px; border-radius: 8px; margin-top: 15px;">
                    <div class="result-detail-item" style="border: none;">
                        <span class="result-detail-label" style="font-size: 1.05em;">ì´ ê³µì œì•¡</span>
                        <span class="result-detail-value" style="color: #e74c3c; font-size: 1.1em;">-${totalDeduction.toLocaleString()}ì›</span>
                    </div>
                    <div class="result-detail-item" style="border: none; margin-top: 10px; padding-top: 10px; border-top: 2px solid var(--primary);">
                        <span class="result-detail-label" style="font-size: 1.2em; color: var(--primary);">ğŸ’µ ì‹¤ìˆ˜ë ¹ì•¡</span>
                        <span class="result-detail-value" style="font-size: 1.3em; color: var(--primary);">${netPay.toLocaleString()}ì›</span>
                    </div>
                    <div class="result-detail-item" style="border: none; margin-top: 8px; padding-top: 0;">
                        <span class="result-detail-label" style="font-size: 0.85em; color: var(--gray);">ê³µì œìœ¨</span>
                        <span class="result-detail-value" style="font-size: 0.85em; color: var(--gray);">${((totalDeduction / totalWage) * 100).toFixed(2)}%</span>
                    </div>
                </div>
            `;

            resultBox.style.display = 'block';
        }

        // ê¸°ë³¸ ê·¼ë¬´ì‹œê°„ ê³„ì‚°
        function calculateBasicWorkHours() {
            const date = document.getElementById('workDate1').value;
            const startTime = document.getElementById('startTime1').value;
            const endTime = document.getElementById('endTime1').value;
            const breakMinutes = parseFloat(document.getElementById('breakTime1').value) || 0;
            
            const resultBox = document.getElementById('timeResult1');
            const totalHoursEl = document.getElementById('totalHours1');
            const detailEl = document.getElementById('timeDetail1');

            if (!date || !startTime || !endTime) {
                alert('ë‚ ì§œì™€ ì‹œê°„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }

            // ì‹œì‘ê³¼ ì¢…ë£Œ ì‹œê°„ ê°ì²´ ìƒì„±
            const start = new Date(`${date}T${startTime}`);
            let end = new Date(`${date}T${endTime}`);

            // ì¢…ë£Œ ì‹œê°„ì´ ì‹œì‘ ì‹œê°„ë³´ë‹¤ ì´ë¥´ë©´ ë‹¤ìŒë‚ ë¡œ ê°„ì£¼
            if (end <= start) {
                end.setDate(end.getDate() + 1);
            }

            // ì´ ê·¼ë¬´ ì‹œê°„ (ë°€ë¦¬ì´ˆ)
            const diffMs = end - start;
            const totalMinutes = Math.floor(diffMs / 1000 / 60);
            
            // ì‹¤ ê·¼ë¬´ ì‹œê°„ (íœ´ê²Œì‹œê°„ ì œì™¸)
            const workMinutes = totalMinutes - breakMinutes;
            const workHours = Math.floor(workMinutes / 60);
            const workMins = workMinutes % 60;

            // ê²°ê³¼ í‘œì‹œ
            totalHoursEl.textContent = `${workHours}ì‹œê°„ ${workMins}ë¶„`;
            detailEl.innerHTML = `
                <div class="result-detail-item">
                    <span class="result-detail-label">ê·¼ë¬´ ë‚ ì§œ</span>
                    <span class="result-detail-value">${date}</span>
                </div>
                <div class="result-detail-item">
                    <span class="result-detail-label">ì‹œì‘ ì‹œê°„</span>
                    <span class="result-detail-value">${startTime}</span>
                </div>
                <div class="result-detail-item">
                    <span class="result-detail-label">ì¢…ë£Œ ì‹œê°„</span>
                    <span class="result-detail-value">${endTime}${end.getDate() !== start.getDate() ? ' (ìµì¼)' : ''}</span>
                </div>
                <div class="result-detail-item">
                    <span class="result-detail-label">ì´ ì‹œê°„ (íœ´ê²Œ í¬í•¨)</span>
                    <span class="result-detail-value">${Math.floor(totalMinutes / 60)}ì‹œê°„ ${totalMinutes % 60}ë¶„</span>
                </div>
                <div class="result-detail-item">
                    <span class="result-detail-label">íœ´ê²Œ ì‹œê°„</span>
                    <span class="result-detail-value">${breakMinutes}ë¶„</span>
                </div>
                <div class="result-detail-item" style="border-top: 2px solid var(--primary); margin-top: 10px; padding-top: 10px;">
                    <span class="result-detail-label" style="font-size: 1.1em; color: var(--primary);">â° ì´ ì‹¤ê·¼ë¬´ ì‹œê°„</span>
                    <span class="result-detail-value" style="font-size: 1.2em; color: var(--primary);">${workHours}ì‹œê°„ ${workMins}ë¶„</span>
                </div>
            `;

            resultBox.style.display = 'block';
        }

        // ì§ì¢…ë³„ ê¸‰ì—¬ ê³„ì‚°
        function calculateSalaryByJob() {
            const jobType = parseFloat(document.getElementById('jobType').value);
            const hourlyRate = parseFloat(document.getElementById('hourlyRate').value);
            const date = document.getElementById('workDate2').value;
            const startTime = document.getElementById('startTime2').value;
            const endTime = document.getElementById('endTime2').value;
            const breakMinutes = parseFloat(document.getElementById('breakTime2').value) || 0;
            
            const resultBox = document.getElementById('salaryResult');
            const totalSalaryEl = document.getElementById('totalSalary');
            const detailEl = document.getElementById('salaryDetail');

            if (!hourlyRate || hourlyRate <= 0) {
                alert('í†µìƒì‹œê¸‰ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }

            if (!date || !startTime || !endTime) {
                alert('ë‚ ì§œì™€ ì‹œê°„ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }

            // ì‹œì‘ê³¼ ì¢…ë£Œ ì‹œê°„ ê°ì²´ ìƒì„±
            const start = new Date(`${date}T${startTime}`);
            let end = new Date(`${date}T${endTime}`);

            // ì¢…ë£Œ ì‹œê°„ì´ ì‹œì‘ ì‹œê°„ë³´ë‹¤ ì´ë¥´ë©´ ë‹¤ìŒë‚ ë¡œ ê°„ì£¼
            if (end <= start) {
                end.setDate(end.getDate() + 1);
            }

            // ì´ ê·¼ë¬´ ì‹œê°„ (ë°€ë¦¬ì´ˆ)
            const diffMs = end - start;
            const totalMinutes = Math.floor(diffMs / 1000 / 60);
            
            // ì‹¤ ê·¼ë¬´ ì‹œê°„ (íœ´ê²Œì‹œê°„ ì œì™¸)
            const workMinutes = totalMinutes - breakMinutes;

            let regularPay = 0;
            let overtimePay = 0;
            let unpaidMinutes = 0;
            let detailText = '';

            // í•™êµ ê·¼ë¬´ì (7.5ì‹œê°„) íŠ¹ë³„ ê³„ì‚°
            if (jobType === 7.5) {
                // 16:30 ê¸°ì¤€ ì‹œê°
                const baseEndTime = new Date(`${date}T16:30`);
                
                // ì´ ê·¼ë¬´ì‹œê°„ ê³„ì‚°
                const regularMinutes = Math.min(workMinutes, 450); // 7.5ì‹œê°„ = 450ë¶„
                regularPay = (regularMinutes / 60) * hourlyRate;

                let extraMinutes = Math.max(0, workMinutes - 450);
                
                if (extraMinutes > 0) {
                    // 16:30 ì´í›„ ê³„ì‚°
                    let currentTime = new Date(baseEndTime);
                    let remainingMinutes = extraMinutes;
                    let unpaid = 0;
                    let paid100 = 0;
                    let paid150 = 0;

                    // 1ë‹¨ê³„: 16:30 ~ 17:00 (30ë¶„ ë¬´ê¸‰)
                    if (remainingMinutes > 0) {
                        unpaid = Math.min(30, remainingMinutes);
                        unpaidMinutes = unpaid;
                        remainingMinutes -= unpaid;
                        currentTime = new Date(currentTime.getTime() + unpaid * 60000);
                    }

                    // 2ë‹¨ê³„: 17:00 ~ 17:30 (30ë¶„ ìœ ê¸‰ 100%)
                    if (remainingMinutes > 0) {
                        paid100 = Math.min(30, remainingMinutes);
                        remainingMinutes -= paid100;
                        currentTime = new Date(currentTime.getTime() + paid100 * 60000);
                    }

                    // 3ë‹¨ê³„: 17:30 ì´í›„ (150% ê°€ì‚°, 22ì‹œ ì´ì „)
                    if (remainingMinutes > 0) {
                        const nightStart = new Date(`${date}T22:00`);
                        if (currentTime.getDate() !== new Date(date).getDate()) {
                            nightStart.setDate(nightStart.getDate() + 1);
                        }
                        
                        const minutesUntilNight = Math.floor((nightStart - currentTime) / 60000);
                        paid150 = Math.min(remainingMinutes, Math.max(0, minutesUntilNight));
                        remainingMinutes -= paid150;
                    }

                    overtimePay = (paid100 / 60) * hourlyRate + (paid150 / 60) * hourlyRate * 1.5;

                    detailText = `
                        <div style="margin-top: 15px; padding-top: 15px; border-top: 2px solid var(--light);">
                            <div style="font-size: 0.9em; color: var(--gray); margin-bottom: 10px;">â° ì‹œê°„ë³„ ìƒì„¸</div>
                            <div class="result-detail-item">
                                <span class="result-detail-label">ì •ê·œ ê·¼ë¬´ (7.5ì‹œê°„)</span>
                                <span class="result-detail-value">${(regularMinutes / 60).toFixed(2)}ì‹œê°„ (${hourlyRate.toLocaleString()}ì›/h)</span>
                            </div>
                            ${unpaid > 0 ? `
                            <div class="result-detail-item">
                                <span class="result-detail-label">16:30-17:00 (ë¬´ê¸‰)</span>
                                <span class="result-detail-value" style="color: #e74c3c;">${unpaid}ë¶„ (0ì›)</span>
                            </div>
                            ` : ''}
                            ${paid100 > 0 ? `
                            <div class="result-detail-item">
                                <span class="result-detail-label">17:00-17:30 (100%)</span>
                                <span class="result-detail-value">${paid100}ë¶„ (${Math.floor((paid100 / 60) * hourlyRate).toLocaleString()}ì›)</span>
                            </div>
                            ` : ''}
                            ${paid150 > 0 ? `
                            <div class="result-detail-item">
                                <span class="result-detail-label">17:30 ì´í›„ (150%)</span>
                                <span class="result-detail-value">${paid150}ë¶„ (${Math.floor((paid150 / 60) * hourlyRate * 1.5).toLocaleString()}ì›)</span>
                            </div>
                            ` : ''}
                        </div>
                    `;
                }
            } else {
                // ì¼ë°˜ ê·¼ë¬´ì (8ì‹œê°„ ë˜ëŠ” 5ì‹œê°„)
                const standardMinutes = jobType * 60; // ê¸°ì¤€ ì‹œê°„ì„ ë¶„ìœ¼ë¡œ ë³€í™˜
                const regularMinutes = Math.min(workMinutes, standardMinutes);
                const overtimeMinutes = Math.max(0, workMinutes - standardMinutes);

                regularPay = (regularMinutes / 60) * hourlyRate;
                overtimePay = (overtimeMinutes / 60) * hourlyRate * 1.5;

                detailText = `
                    <div style="margin-top: 15px; padding-top: 15px; border-top: 2px solid var(--light);">
                        <div style="font-size: 0.9em; color: var(--gray); margin-bottom: 10px;">â° ì‹œê°„ë³„ ìƒì„¸</div>
                        <div class="result-detail-item">
                            <span class="result-detail-label">ì •ê·œ ê·¼ë¬´ (${jobType}ì‹œê°„)</span>
                            <span class="result-detail-value">${(regularMinutes / 60).toFixed(2)}ì‹œê°„ Ã— ${hourlyRate.toLocaleString()}ì›</span>
                        </div>
                        ${overtimeMinutes > 0 ? `
                        <div class="result-detail-item">
                            <span class="result-detail-label">ì—°ì¥ ê·¼ë¬´ (150%)</span>
                            <span class="result-detail-value">${(overtimeMinutes / 60).toFixed(2)}ì‹œê°„ Ã— ${(hourlyRate * 1.5).toLocaleString()}ì›</span>
                        </div>
                        ` : ''}
                    </div>
                `;
            }

            const totalSalary = regularPay + overtimePay;

            // ê²°ê³¼ í‘œì‹œ
            totalSalaryEl.textContent = Math.floor(totalSalary).toLocaleString() + 'ì›';
            detailEl.innerHTML = `
                <div class="result-detail-item">
                    <span class="result-detail-label">í†µìƒì‹œê¸‰</span>
                    <span class="result-detail-value">${hourlyRate.toLocaleString()}ì›</span>
                </div>
                <div class="result-detail-item">
                    <span class="result-detail-label">ì´ ê·¼ë¬´ì‹œê°„ (íœ´ê²Œ ì œì™¸)</span>
                    <span class="result-detail-value">${Math.floor(workMinutes / 60)}ì‹œê°„ ${workMinutes % 60}ë¶„</span>
                </div>
                ${unpaidMinutes > 0 ? `
                <div class="result-detail-item">
                    <span class="result-detail-label">ë¬´ê¸‰ ì‹œê°„</span>
                    <span class="result-detail-value" style="color: #e74c3c;">${unpaidMinutes}ë¶„</span>
                </div>
                ` : ''}
                ${detailText}
                <div style="background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); padding: 15px; border-radius: 8px; margin-top: 15px;">
                    <div class="result-detail-item" style="border: none;">
                        <span class="result-detail-label">ê¸°ë³¸ ê¸‰ì—¬</span>
                        <span class="result-detail-value">${Math.floor(regularPay).toLocaleString()}ì›</span>
                    </div>
                    <div class="result-detail-item" style="border: none;">
                        <span class="result-detail-label">ì—°ì¥/ì¶”ê°€ ê¸‰ì—¬</span>
                        <span class="result-detail-value">${Math.floor(overtimePay).toLocaleString()}ì›</span>
                    </div>
                    <div class="result-detail-item" style="border: none; margin-top: 10px; padding-top: 10px; border-top: 2px solid var(--primary);">
                        <span class="result-detail-label" style="font-size: 1.2em; color: var(--primary);">ğŸ’µ ì´ ê¸‰ì—¬</span>
                        <span class="result-detail-value" style="font-size: 1.3em; color: var(--primary);">${Math.floor(totalSalary).toLocaleString()}ì›</span>
                    </div>
                </div>
            `;

            resultBox.style.display = 'block';
        }

        // ì—”í„°í‚¤ë¡œ ê³„ì‚° ì‹¤í–‰
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                const activeElement = document.activeElement;
                
                if (activeElement.id === 'dailyWage' || activeElement.id === 'workDays' || activeElement.id === 'industryType') {
                    calculateAll();
                } else if (activeElement.id === 'workDate1' || activeElement.id === 'startTime1' || 
                           activeElement.id === 'endTime1' || activeElement.id === 'breakTime1') {
                    calculateBasicWorkHours();
                } else if (activeElement.id === 'hourlyRate' || activeElement.id === 'workDate2' || 
                           activeElement.id === 'startTime2' || activeElement.id === 'endTime2' || activeElement.id === 'breakTime2') {
                    calculateSalaryByJob();
                }
            }
        });
    </script>
</body>
</html>